ÄÃ¢y lÃ  má»™t **káº¿ hoáº¡ch chi tiáº¿t** (planning) Ä‘á»ƒ báº¡n dÃ¹ng **Google Colab + API Key Gemini** nháº±m **phÃ¢n tÃ­ch mÃ£ nguá»“n tá»« má»™t GitHub repo** vÃ  **tá»± Ä‘á»™ng táº¡o file `.md` mÃ´ táº£ Ä‘áº§y Ä‘á»§ codebase**.

---

## ğŸ§  **Má»¥c tiÃªu**

Tá»± Ä‘á»™ng:

1. Clone repo tá»« GitHub.
2. Äá»c cÃ¡c tá»‡p mÃ£ nguá»“n (Python, C, HTML...).
3. DÃ¹ng API Gemini Ä‘á»ƒ phÃ¢n tÃ­ch tá»«ng tá»‡p, giáº£i thÃ­ch Ã½ nghÄ©a, chá»©c nÄƒng, luá»“ng logic.
4. Tá»•ng há»£p láº¡i thÃ nh file `README_ANALYSIS.md`.

---

## ğŸ§© **YÃªu cáº§u**

### ğŸ“Œ CÃ´ng cá»¥:

* [x] Google Colab
* [x] API Key Gemini (Model Gemini Pro hoáº·c Gemini 1.5 Pro)
* [x] Python packages: `google.generativeai`, `openai`, `os`, `glob`, `markdown`, `requests`, `gitpython`

### ğŸ“Œ Input:

* URL repo GitHub (VD: `https://github.com/bechovang/gemini-1M-token-phan-tich-code`)

### ğŸ“Œ Output:

* File `.md` chá»©a giáº£i thÃ­ch toÃ n bá»™ codebase (theo file, chá»©c nÄƒng, luá»“ng chÆ°Æ¡ng trÃ¬nh, dependency...)

---

## ğŸ”§ **Chi tiáº¿t cÃ¡c bÆ°á»›c thá»±c hiá»‡n**

### ğŸ”¹ BÆ°á»›c 1: Setup mÃ´i trÆ°á»ng Google Colab

```python
!pip install gitpython google-generativeai
```

---

### ğŸ”¹ BÆ°á»›c 2: Clone repo GitHub

```python
from git import Repo
repo_url = "https://github.com/bechovang/gemini-1M-token-phan-tich-code"
local_path = "/content/codebase"
Repo.clone_from(repo_url, local_path)
```

---

### ğŸ”¹ BÆ°á»›c 3: Load API Gemini vÃ  chuáº©n bá»‹ model

```python
import google.generativeai as genai

genai.configure(api_key="YOUR_API_KEY")

model = genai.GenerativeModel('gemini-1.5-pro')  # hoáº·c gemini-pro náº¿u token tháº¥p hÆ¡n
```

---

### ğŸ”¹ BÆ°á»›c 4: Äá»c tá»«ng tá»‡p mÃ£ nguá»“n

```python
import os

code_files = []
for root, dirs, files in os.walk(local_path):
    for file in files:
        if file.endswith((".py", ".c", ".cpp", ".html", ".js", ".ipynb")):
            code_files.append(os.path.join(root, file))
```

---

### ğŸ”¹ BÆ°á»›c 5: Gá»­i tá»«ng file cho Gemini Ä‘á»ƒ phÃ¢n tÃ­ch

````python
def analyze_code(file_path):
    with open(file_path, 'r', encoding='utf-8', errors='ignore') as f:
        code = f.read()

    prompt = f"""
    DÆ°á»›i Ä‘Ã¢y lÃ  ná»™i dung cá»§a file: {file_path}. 
    HÃ£y giáº£i thÃ­ch chi tiáº¿t chá»©c nÄƒng cá»§a tá»«ng pháº§n trong file, má»¥c Ä‘Ã­ch, luá»“ng thá»±c thi, cÃ¡c thÆ° viá»‡n dÃ¹ng, cÃ¡c biáº¿n vÃ  hÃ m quan trá»ng. 
    Viáº¿t dáº¡ng Markdown, dá»… Ä‘á»c, rÃµ rÃ ng.

    ```{file_path.split('.')[-1]}
    {code}
    ```
    """
    response = model.generate_content(prompt)
    return f"## ğŸ“„ {os.path.basename(file_path)}\n" + response.text
````

---

### ğŸ”¹ BÆ°á»›c 6: Ghi káº¿t quáº£ vÃ o `README_ANALYSIS.md`

```python
with open("README_ANALYSIS.md", "w", encoding="utf-8") as f:
    for file in code_files:
        try:
            analysis = analyze_code(file)
            f.write(analysis + "\n\n---\n\n")
        except Exception as e:
            f.write(f"## âŒ {file} - lá»—i khi phÃ¢n tÃ­ch: {str(e)}\n\n")
```

---

### ğŸ”¹ BÆ°á»›c 7: Táº£i file `.md` vá» mÃ¡y

```python
from google.colab import files
files.download("README_ANALYSIS.md")
```

---

## ğŸ—‚ï¸ Gá»£i Ã½ cáº¥u trÃºc Markdown

Báº¡n cÃ³ thá»ƒ cáº¥u trÃºc ná»™i dung file nhÆ° sau:

```markdown
# ğŸ“Š PhÃ¢n TÃ­ch Codebase: <TÃªn Repo>

## Tá»•ng quan
- Repo nÃ y nháº±m má»¥c Ä‘Ã­ch...
- NgÃ´n ngá»¯ chÃ­nh: Python, C
- CÃ¡c file chÃ­nh: main.py, logic.py, templates/index.html

---

## ğŸ“„ main.py
- Chá»©c nÄƒng chÃ­nh: Ä‘iá»u phá»‘i chÆ°Æ¡ng trÃ¬nh.
- Gá»“m cÃ¡c pháº§n:
  - `import`: thÆ° viá»‡n sá»­ dá»¥ng
  - `main()`: entry point
  - `handle_input()`: xá»­ lÃ½ dá»¯ liá»‡u Ä‘áº§u vÃ o
...

---

## ğŸ“„ templates/index.html
- Giao diá»‡n chÃ­nh cá»§a á»©ng dá»¥ng.
- Chá»©a layout cho ngÆ°á»i dÃ¹ng.
...

```

---

## ğŸš€ Tips nÃ¢ng cao

* CÃ³ thá»ƒ gom cÃ¡c file cÃ¹ng loáº¡i (Python, HTML) vÃ o 1 má»¥c.
* DÃ¹ng Gemini Ä‘á»ƒ gá»£i Ã½ **luá»“ng thá»±c thi tá»•ng thá»ƒ toÃ n repo** (sau khi Ä‘á»c tá»«ng file).
* CÃ³ thá»ƒ bá»• sung pháº§n sÆ¡ Ä‘á»“ flowchart (náº¿u káº¿t há»£p vá»›i Graphviz).

---

Báº¡n muá»‘n mÃ¬nh viáº¿t luÃ´n báº£n máº«u Colab cho repo cá»¥ thá»ƒ nÃ y (`https://github.com/bechovang/gemini-1M-token-phan-tich-code`) khÃ´ng?
